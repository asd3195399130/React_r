import React, { useEffect, useState } from "react";
import "./table.css";
import * as echarts from "echarts";
import axios from "axios";
function TableView() {
  let [data,setData] = useState("")
  let [list,setList] = useState("")
   const treeview = () => {
     axios
       .get("http://47.94.4.201/index.php/index/index/getDatas")
       .then((res) => {
         setData(res.data.data.arr);
         console.log(setData(res.data.data.arr));
         setList(res.data.data.list);
       });
   };
  useEffect(() => {
    treeview();
  }, []);
  
  useEffect(() => {
    echart();
  }, [data, list]);

  const echart=()=>{
    var chartDom = document.getElementById("main");
    var myChart = echarts.init(chartDom);
    var option;

    option = {
      xAxis: {
        type: "category",
        data: data,
      
      },
      yAxis: {
        type: "value",
      },
      series: [
        {
          data: list,
          type: "bar",
        },
      ],
    };

    option && myChart.setOption(option);
  }
  return (
    <div>
      <div className="table_header">
        <div className="table_top">
          <div className="table_incom">
            <div>
              <svg
                t="1704716392838"
                className="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="31597"
                width="84"
                height="84">
                <path
                  d="M873.491613 189.423187l-756.213048 0c-29.91738 0-54.169737 24.252357-54.169737 54.169737L63.108828 714.209398c0 29.916357 24.252357 54.168714 54.169737 54.168714l756.213048 0c29.916357 0 54.16769-24.251334 54.16769-54.168714L927.659303 243.592924C927.65828 213.675544 903.407969 189.423187 873.491613 189.423187zM894.033461 714.774263c0 12.814864-10.389628 23.205515-23.205515 23.205515L121.106754 737.979778c-12.815887 0-23.205515-10.389628-23.205515-23.205515L97.901239 243.392356c0-12.815887 10.389628-23.205515 23.205515-23.205515l749.721193 0c12.814864 0 23.205515 10.389628 23.205515 23.205515L894.033461 714.774263z"
                  fill="#d81e06"
                  p-id="31598"></path>
                <path
                  d="M494.629889 493.705332c39.114856 10.1645 51.689243 20.587897 51.689243 36.953633 0 18.778692-17.316387 31.959899-46.51643 31.959899-30.667463 0-42.037419-14.646582-43.073005-36.178991l-38.074154 0c1.12052 29.718859 19.297508 56.766888 55.301514 65.640999l0 37.724183 51.685149 0 0-37.210483c33.425274-7.321756 60.301388-28.858258 60.301388-62.193481 0-39.798425-32.991392-59.609633-80.97115-71.152527-43.161009-10.338463-51.686173-25.412786-51.686173-41.60763 0-11.799744 8.355295-30.750351 46.517453-30.750351 35.489282 0 49.529043 15.933901 51.339272 36.177967l37.987173 0c-2.153036-37.731346-30.320563-58.833967-63.48694-65.983807l0-37.386492-51.685149 0 0 37.041638c-33.505092 6.461155-60.297294 25.841551-60.297294 61.246923C413.659763 466.74326 455.524243 483.454874 494.629889 493.705332L494.629889 493.705332zM494.629889 493.705332"
                  fill="#d81e06"
                  p-id="31599"></path>
                <path
                  d="M842.175373 254.979252 150.782633 254.979252c-12.815887 0-23.205515 10.389628-23.205515 23.205515l0 402.820392c0 12.814864 10.389628 23.205515 23.205515 23.205515l691.39274 0c12.814864 0 23.205515-10.389628 23.205515-23.205515L865.380888 278.184767C865.380888 265.36888 854.99126 254.979252 842.175373 254.979252zM496.479003 665.599284c-105.401562 0-190.846606-85.445044-190.846606-190.846606 0-105.401562 85.445044-190.846606 190.846606-190.846606s190.846606 85.445044 190.846606 190.846606C687.325609 580.154239 601.880565 665.599284 496.479003 665.599284z"
                  fill="#d81e06"
                  p-id="31600"></path>
              </svg>
            </div>
            <div>
              <h2>我的收入</h2>
              <p>￥11.11</p>
            </div>
          </div>
          <div className="table_num">
            <div>
              <svg
                t="1704717324678"
                className="icon"
                viewBox="0 0 1034 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="40697"
                width="64"
                height="64">
                <path
                  d="M384 469.333333H85.333333c-46.933333 0-85.333333-38.4-85.333333-85.333333V85.333333c0-46.933333 38.4-85.333333 85.333333-85.333333h298.666667c46.933333 0 85.333333 38.4 85.333333 85.333333v298.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z m0-85.333333v42.666667-42.666667zM85.333333 85.333333v298.666667h298.666667V85.333333H85.333333zM384 1024H85.333333c-46.933333 0-85.333333-38.4-85.333333-85.333333V640c0-46.933333 38.4-85.333333 85.333333-85.333333h298.666667c46.933333 0 85.333333 38.4 85.333333 85.333333v298.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z m0-85.333333v42.666666-42.666666zM85.333333 640v298.666667h298.666667V640H85.333333zM949.333333 1024h-298.666666c-46.933333 0-85.333333-38.4-85.333334-85.333333V640c0-46.933333 38.4-85.333333 85.333334-85.333333h298.666666c46.933333 0 85.333333 38.4 85.333334 85.333333v298.666667c0 46.933333-38.4 85.333333-85.333334 85.333333z m0-85.333333v42.666666-42.666666z m-298.666666-298.666667v298.666667h298.666666V640h-298.666666z"
                  p-id="40698"
                  fill="#e6e6e6"></path>
                <path
                  d="M791.466667 234.666667m-66.133334 0a66.133333 66.133333 0 1 0 132.266667 0 66.133333 66.133333 0 1 0-132.266667 0Z"
                  p-id="40699"
                  fill="#e6e6e6"></path>
                <path
                  d="M721.066667 469.333333c-10.666667 0-19.2-2.133333-29.866667-8.533333l-38.4-23.466667c-25.6-17.066667-36.266667-53.333333-21.333333-81.066666l17.066666-29.866667c-2.133333-2.133333-4.266667-6.4-4.266666-8.533333h-29.866667c-32 0-57.6-27.733333-57.6-59.733334V211.2c0-32 25.6-59.733333 57.6-59.733333h29.866667c2.133333-2.133333 4.266667-6.4 4.266666-8.533334l-17.066666-29.866666c-14.933333-27.733333-6.4-64 21.333333-81.066667L691.2 8.533333c12.8-8.533333 27.733333-10.666667 42.666667-6.4s27.733333 14.933333 36.266666 27.733334l14.933334 27.733333h8.533333l17.066667-27.733333c8.533333-14.933333 21.333333-23.466667 36.266666-27.733334 14.933333-4.266667 29.866667-2.133333 42.666667 6.4l38.4 23.466667c25.6 17.066667 36.266667 53.333333 21.333333 81.066667l-17.066666 29.866666c2.133333 2.133333 4.266667 6.4 4.266666 8.533334h29.866667c32 0 57.6 27.733333 57.6 59.733333v46.933333c0 32-25.6 59.733333-57.6 59.733334h-29.866667c-2.133333 2.133333-4.266667 6.4-4.266666 8.533333l17.066666 29.866667c14.933333 27.733333 6.4 64-21.333333 81.066666l-38.4 23.466667c-12.8 8.533333-27.733333 10.666667-42.666667 6.4s-27.733333-14.933333-36.266666-27.733333l-14.933334-27.733334h-8.533333l-14.933333 27.733334c-8.533333 14.933333-21.333333 23.466667-36.266667 27.733333-4.266667 2.133333-10.666667 2.133333-14.933333 2.133333zM612.266667 194.133333c-8.533333 0-14.933333 8.533333-14.933334 17.066667v46.933333c0 8.533333 6.4 17.066667 14.933334 17.066667h57.6l6.4 12.8c4.266667 8.533333 8.533333 17.066667 14.933333 25.6l8.533333 10.666667-27.733333 53.333333c-4.266667 8.533333-2.133333 19.2 6.4 23.466667l38.4 23.466666c2.133333 2.133333 4.266667 2.133333 8.533333 2.133334s6.4-4.266667 8.533334-8.533334l29.866666-53.333333 14.933334 2.133333h27.733333l14.933333-2.133333 29.866667 53.333333c2.133333 4.266667 4.266667 6.4 8.533333 8.533334 2.133333 0 6.4 0 10.666667-2.133334l38.4-23.466666c6.4-4.266667 10.666667-14.933333 6.4-23.466667l-27.733333-53.333333 8.533333-10.666667c6.4-8.533333 10.666667-17.066667 14.933333-25.6l6.4-12.8h57.6c8.533333 0 14.933333-8.533333 14.933334-17.066667V211.2c0-8.533333-6.4-17.066667-14.933334-17.066667H917.333333l-6.4-12.8c-4.266667-8.533333-8.533333-17.066667-14.933333-25.6l-8.533333-10.666666 27.733333-53.333334c4.266667-8.533333 2.133333-19.2-6.4-23.466666l-38.4-23.466667c-8.533333-2.133333-10.666667-2.133333-12.8-2.133333-4.266667 0-6.4 4.266667-8.533333 8.533333l-29.866667 53.333333-14.933333-2.133333h-27.733334l-14.933333 2.133333-29.866667-53.333333c0-4.266667-4.266667-6.4-6.4-8.533333-2.133333 0-6.4 0-10.666666 2.133333l-38.4 23.466667c-6.4 4.266667-10.666667 14.933333-6.4 23.466666l27.733333 53.333334-8.533333 10.666666c-6.4 8.533333-10.666667 17.066667-14.933334 25.6l-6.4 12.8h-55.466666z"
                  p-id="40700"
                  fill="#e6e6e6"></path>
              </svg>
            </div>
            <div>
              <h2>课程数量</h2>
              <p>12</p>
            </div>
          </div>
          <div className="table_usernum">
            <div>
              <svg
                t="1704717646380"
                className="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="42582"
                width="64"
                height="64">
                <path
                  d="M522.24 10.24C675.84 10.24 808.96 143.36 808.96 307.2c0 92.16-40.96 174.08-102.4 235.52-194.56 143.36-378.88-20.48-378.88-20.48-61.44-61.44-92.16-133.12-92.16-215.04C235.52 143.36 368.64 10.24 522.24 10.24z m409.6 952.32s102.4-61.44-30.72-215.04L737.28 614.4c-61.44 51.2-225.28 143.36-450.56 0C225.28 655.36 40.96 808.96 61.44 901.12c0 0 0 102.4 194.56 112.64 0 0 573.44 40.96 675.84-51.2z"
                  p-id="42583"
                  fill="#1296db"></path>
              </svg>
            </div>
            <div>
              <h2>用户数量</h2>
              <p>236</p>
            </div>
          </div>
          <div className="table_pageview">
            <div>
              <svg
                t="1704717688486"
                className="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="43626"
                width="64"
                height="64">
                <path
                  d="M1006.08 498.688c-88.064-192.512-282.112-316.928-493.568-316.928S106.496 306.176 18.432 498.688c-3.584 8.192-3.584 17.408 0 25.6 88.064 192.512 282.112 316.928 493.568 316.928s405.504-124.416 493.568-316.928c4.096-8.192 4.096-17.408 0.512-25.6zM512 779.776c-183.296 0-351.232-104.96-431.616-268.288C161.28 348.16 329.216 243.2 512 243.2c183.296 0 351.232 104.96 431.616 268.288-80.384 163.84-248.32 268.288-431.616 268.288z"
                  p-id="43627"
                  fill="#e6e6e6"></path>
                <path
                  d="M512 358.4c-84.48 0-153.088 68.608-153.088 153.088s68.608 153.088 153.088 153.088 153.088-68.608 153.088-153.088S596.48 358.4 512 358.4z m0 244.736c-50.688 0-91.648-40.96-91.648-91.648 0-50.688 40.96-91.648 91.648-91.648s92.16 40.96 92.16 91.648c0 50.688-41.472 91.648-92.16 91.648z"
                  p-id="43628"
                  fill="#e6e6e6"></path>
              </svg>
            </div>
            <div>
              <h2>浏览量</h2>
              <p>22435</p>
            </div>
          </div>
        </div>
        <div id="main"></div>
      </div>
    </div>
  );
}
export default TableView;
